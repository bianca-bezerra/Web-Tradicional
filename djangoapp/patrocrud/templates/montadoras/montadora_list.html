{% extends "base.html" %} 
{% block title %} Lista de Montadoras {% endblock %}
{% block content %}
<div class="container">
  <div class="separator-row">
    {% block subtitle %}<h2>Montadoras</h2>{% endblock %}
    <a href="{% url 'montadora_create' %}">Criar montadora</a>
  </div>

  <table class="table">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Ano de Fundação</th>
        <th>País</th>
      </tr>
    </thead>
    <tbody>
      {% for montadora in montadoras %}
      <tr data-url="{% url 'montadora_detail' montadora.pk %}" style="cursor: pointer;">
        <td>{{ montadora.nome }}</td>
        <td>{{ montadora.ano_fundacao }}</td>
        <td>{{ montadora.pais }}</td>
        <td>
          <a href="{% url 'montadora_delete' montadora.pk %}">
            <span style="color: rgb(173, 32, 32);" class="material-symbols-outlined">delete</span>
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="3">Nenhuma montadora encontrada.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<script>
    document.querySelectorAll('tr[data-url]').forEach(function(row) {
        row.addEventListener('click', function() {
            window.location.href = row.getAttribute('data-url');
        });
    });
</script>
{% endblock %}
